<!DOCTYPE html>
<html lang="zh-Hant">
    <head>
        <meta charset="UTF-8" />
        <title>éŸ³æ¨‚é¸å–®ç³»çµ± - è³‡æ–™æ“ä½œ</title>
        <!-- Font Awesome åœ–æ¨™åº« -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
        <style>
            /* å®Œå…¨é‡ç½®ä¸¦è¨­å®š Claude é¢¨æ ¼ */
            *,
            *::before,
            *::after {
                box-sizing: border-box !important;
                margin: 0 !important;
                padding: 0 !important;
            }

            /* Claude é¢¨æ ¼è‰²å½©è®Šæ•¸ */
            :root {
                --claude-bg: #0a0f0d !important; /* é»‘è‰²åŠ å¢¨ç¶ è‰²çš„æ·±è‰²èƒŒæ™¯ */
                --claude-bg-secondary: #0f1512 !important; /* æ¬¡è¦èƒŒæ™¯è‰² */
                --claude-primary: #d97742 !important; /* æ·±æ©˜è‰²ä¸»è‰² */
                --claude-primary-hover: #c56a3a !important; /* æ·±æ©˜è‰²æ‡¸åœ */
                --claude-accent: #e08856 !important; /* æ˜äº®æ©˜è‰²å¼·èª¿ */
                --claude-text: #ffffff !important; /* ç™½è‰²æ–‡å­— */
                --claude-text-secondary: #e5e7eb !important; /* æ·ºç°è‰²æ¬¡è¦æ–‡å­— */
                --claude-text-muted: #9ca3af !important; /* ç°è‰²éœéŸ³æ–‡å­— */
                --claude-card: rgba(217, 119, 66, 0.08) !important; /* åŠé€æ˜å¡ç‰‡èƒŒæ™¯ */
                --claude-card-hover: rgba(217, 119, 66, 0.12) !important;
                --claude-border: rgba(217, 119, 66, 0.3) !important; /* æ·±æ©˜è‰²é‚Šæ¡† */
                --claude-shadow: 0 4px 20px rgba(217, 119, 66, 0.15) !important;
                --claude-shadow-strong: 0 8px 32px rgba(217, 119, 66, 0.25) !important;
                --claude-glass: rgba(255, 255, 255, 0.05) !important; /* ç»ç’ƒæ•ˆæœ */
                --claude-warm-beige: #f5f3f0 !important; /* æº«æš–ç±³è‰² */
                --claude-warm-cream: #faf9f7 !important; /* å¥¶æ²¹è‰² */
                --claude-danger-red: #ef4444 !important; /* å±éšªç´…è‰² */
                --border-radius: 16px !important;
                --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
            }

            /* å¼·åˆ¶è¦†è“‹ body æ¨£å¼ */
            html {
                height: 100% !important;
                background: var(--claude-bg) !important;
                font-family: "Inter", "Segoe UI", "å¾®è»Ÿæ­£é»‘é«”", sans-serif !important;
            }

            body {
                height: 100% !important;
                background: var(--claude-bg) !important;
                background-image: radial-gradient(circle at 20% 20%, rgba(217, 119, 66, 0.08) 0%, transparent 50%),
                    radial-gradient(circle at 80% 80%, rgba(224, 136, 86, 0.06) 0%, transparent 50%),
                    linear-gradient(135deg, var(--claude-bg) 0%, var(--claude-bg-secondary) 100%) !important;
                background-attachment: fixed !important;
                color: var(--claude-text) !important;
                line-height: 1.7 !important;
                font-family: "Inter", "Segoe UI", "å¾®è»Ÿæ­£é»‘é«”", sans-serif !important;
                overflow-x: hidden !important;
                margin: 0 !important;
                padding: 0 !important;
            }

            /* ä¸»å®¹å™¨ */
            .claude-data-page {
                min-height: 100vh !important;
                width: 100% !important;
                background: transparent !important;
                padding: 0 !important;
                margin: 0 !important;
                position: relative !important;
                z-index: 1 !important;
            }

            /* é é¢é ­éƒ¨ - Claude é¢¨æ ¼ */
            .claude-header {
                background: linear-gradient(135deg, var(--claude-primary), var(--claude-accent)) !important;
                color: white !important;
                padding: 50px 30px !important;
                text-align: center !important;
                position: relative !important;
                overflow: hidden !important;
                margin: 0 !important;
                box-shadow: var(--claude-shadow-strong) !important;
            }

            .claude-header::before {
                content: "" !important;
                position: absolute !important;
                top: -50% !important;
                left: -50% !important;
                width: 200% !important;
                height: 200% !important;
                background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%) !important;
                pointer-events: none !important;
                z-index: 0 !important;
            }

            .claude-header-content {
                position: relative !important;
                z-index: 1 !important;
            }

            .claude-title {
                font-size: 3rem !important;
                font-weight: 700 !important;
                margin: 0 0 20px 0 !important;
                color: white !important;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                gap: 20px !important;
                font-family: inherit !important;
            }

            .claude-title-icon {
                font-size: 3.5rem !important;
                opacity: 0.9 !important;
            }

            .claude-subtitle {
                font-size: 1.3rem !important;
                margin: 0 !important;
                opacity: 0.95 !important;
                color: rgba(255, 255, 255, 0.9) !important;
                font-weight: 400 !important;
                font-family: inherit !important;
            }

            /* æ§åˆ¶é¢æ¿ */
            .claude-controls {
                background: var(--claude-card) !important;
                backdrop-filter: blur(20px) !important;
                border: 1px solid var(--claude-border) !important;
                border-radius: var(--border-radius) !important;
                padding: 40px !important;
                margin: 30px !important;
                box-shadow: var(--claude-shadow) !important;
                position: relative !important;
                overflow: hidden !important;
            }

            .claude-controls::before {
                content: "" !important;
                position: absolute !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                background: linear-gradient(
                    45deg,
                    transparent 0%,
                    rgba(217, 119, 66, 0.02) 50%,
                    transparent 100%
                ) !important;
                z-index: 0 !important;
            }

            .claude-controls-content {
                position: relative !important;
                z-index: 1 !important;
            }

            .claude-controls-title {
                font-size: 1.5rem !important;
                font-weight: 700 !important;
                color: var(--claude-text) !important;
                margin: 0 0 30px 0 !important;
                text-align: center !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                gap: 12px !important;
                font-family: inherit !important;
            }

            .claude-button-grid {
                display: grid !important;
                grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)) !important;
                gap: 20px !important;
                max-width: 1200px !important;
                margin: 0 auto !important;
            }

            /* Claude é¢¨æ ¼æŒ‰éˆ• */
            .claude-btn {
                background: linear-gradient(135deg, var(--claude-primary), var(--claude-accent)) !important;
                color: white !important;
                border: none !important;
                padding: 20px 25px !important;
                border-radius: var(--border-radius) !important;
                cursor: pointer !important;
                transition: var(--transition) !important;
                font-size: 1.05rem !important;
                font-weight: 600 !important;
                box-shadow: var(--claude-shadow) !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                gap: 12px !important;
                min-height: 70px !important;
                position: relative !important;
                overflow: hidden !important;
                text-decoration: none !important;
                font-family: inherit !important;
                outline: none !important;
            }

            .claude-btn::before {
                content: "" !important;
                position: absolute !important;
                top: 0 !important;
                left: -100% !important;
                width: 100% !important;
                height: 100% !important;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent) !important;
                transition: left 0.6s !important;
            }

            .claude-btn:hover {
                background: linear-gradient(135deg, var(--claude-primary-hover), var(--claude-primary)) !important;
                transform: translateY(-3px) !important;
                box-shadow: var(--claude-shadow-strong) !important;
                color: white !important;
            }

            .claude-btn:hover::before {
                left: 100% !important;
            }

            .claude-btn:active {
                transform: translateY(-1px) !important;
            }

            .claude-btn i {
                font-size: 1.3rem !important;
                margin: 0 !important;
            }

            /* è¡¨æ ¼å®¹å™¨ */
            .claude-table-container {
                margin: 30px !important;
                padding: 0 !important;
                background: transparent !important;
                border-radius: 0 !important;
                min-height: 400px !important;
                color: var(--claude-text) !important;
            }

            .claude-table-wrapper {
                background: var(--claude-card) !important;
                backdrop-filter: blur(20px) !important;
                border-radius: var(--border-radius) !important;
                padding: 35px !important;
                box-shadow: var(--claude-shadow-strong) !important;
                border: 1px solid var(--claude-border) !important;
                overflow: hidden !important;
                position: relative !important;
                animation: fadeInUp 0.6s ease-out !important;
            }

            .claude-table-wrapper::before {
                content: "" !important;
                position: absolute !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                background: linear-gradient(
                    45deg,
                    transparent 0%,
                    rgba(217, 119, 66, 0.02) 50%,
                    transparent 100%
                ) !important;
                z-index: 0 !important;
            }

            .claude-table-content {
                position: relative !important;
                z-index: 1 !important;
            }

            .claude-table-header {
                margin: 0 0 30px 0 !important;
                padding: 0 0 25px 0 !important;
                border-bottom: 2px solid var(--claude-primary) !important;
                display: flex !important;
                align-items: center !important;
                justify-content: space-between !important;
                flex-wrap: wrap !important;
                gap: 20px !important;
            }

            .claude-table-title {
                font-size: 1.6rem !important;
                font-weight: 700 !important;
                color: var(--claude-text) !important;
                display: flex !important;
                align-items: center !important;
                gap: 15px !important;
                margin: 0 !important;
                font-family: inherit !important;
            }

            .claude-table-count {
                background: var(--claude-primary) !important;
                color: white !important;
                padding: 10px 20px !important;
                border-radius: 25px !important;
                font-size: 0.95rem !important;
                font-weight: 600 !important;
                font-family: inherit !important;
            }

            .claude-table-scroll {
                overflow-x: auto !important;
                border-radius: var(--border-radius) !important;
                box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1) !important;
                background: var(--claude-warm-cream) !important;
            }

            /* Claude é¢¨æ ¼è¡¨æ ¼ */
            .claude-table {
                width: 100% !important;
                border-collapse: collapse !important;
                margin: 0 !important;
                background: var(--claude-warm-cream) !important;
                border-radius: var(--border-radius) !important;
                overflow: hidden !important;
                font-size: 1rem !important;
                box-shadow: var(--claude-shadow) !important;
                font-family: inherit !important;
            }

            .claude-table th {
                background: linear-gradient(135deg, var(--claude-primary), var(--claude-accent)) !important;
                color: white !important;
                font-weight: 700 !important;
                padding: 22px 20px !important;
                text-align: left !important;
                font-size: 0.95rem !important;
                letter-spacing: 0.5px !important;
                text-transform: uppercase !important;
                border: none !important;
                position: sticky !important;
                top: 0 !important;
                z-index: 10 !important;
                font-family: inherit !important;
            }

            .claude-table th:first-child {
                text-align: center !important;
                width: 120px !important;
            }

            .claude-table td {
                padding: 20px !important;
                border-bottom: 1px solid rgba(217, 119, 66, 0.1) !important;
                color: var(--claude-bg) !important;
                vertical-align: middle !important;
                background: var(--claude-warm-cream) !important;
                transition: background-color 0.2s ease !important;
                font-size: 0.95rem !important;
                font-family: inherit !important;
            }

            .claude-table td:first-child {
                text-align: center !important;
                background: var(--claude-warm-beige) !important;
            }

            .claude-table tr:hover td {
                background: rgba(217, 119, 66, 0.08) !important;
            }

            .claude-table tr:hover td:first-child {
                background: rgba(217, 119, 66, 0.15) !important;
            }

            .claude-table tr:nth-child(even) td {
                background: var(--claude-warm-beige) !important;
            }

            .claude-table tr:nth-child(even):hover td {
                background: rgba(217, 119, 66, 0.08) !important;
            }

            /* Claude é¢¨æ ¼åˆªé™¤æŒ‰éˆ• */
            .claude-delete-btn {
                background: var(--claude-danger-red) !important;
                color: white !important;
                border: none !important;
                padding: 12px 18px !important;
                border-radius: var(--border-radius) !important;
                cursor: pointer !important;
                font-size: 0.9rem !important;
                font-weight: 600 !important;
                transition: var(--transition) !important;
                box-shadow: 0 3px 10px rgba(239, 68, 68, 0.3) !important;
                display: inline-flex !important;
                align-items: center !important;
                gap: 8px !important;
                font-family: inherit !important;
                outline: none !important;
            }

            .claude-delete-btn:hover {
                background: #dc2626 !important;
                transform: translateY(-2px) !important;
                box-shadow: 0 5px 15px rgba(239, 68, 68, 0.4) !important;
            }

            .claude-delete-btn:active {
                transform: translateY(0) !important;
            }

            /* Claude é¢¨æ ¼ç‹€æ…‹æ¨£å¼ */
            .claude-loading {
                text-align: center !important;
                padding: 100px 30px !important;
                color: var(--claude-text-muted) !important;
                background: var(--claude-card) !important;
                border-radius: var(--border-radius) !important;
                margin: 30px !important;
                backdrop-filter: blur(20px) !important;
                border: 1px solid var(--claude-border) !important;
            }

            .claude-loading i {
                font-size: 3.5rem !important;
                color: var(--claude-primary) !important;
                margin: 0 0 25px 0 !important;
                animation: spin 1.2s linear infinite !important;
            }

            .claude-loading p {
                font-size: 1.3rem !important;
                margin: 0 !important;
                color: var(--claude-text) !important;
                font-family: inherit !important;
            }

            @keyframes spin {
                from {
                    transform: rotate(0deg) !important;
                }
                to {
                    transform: rotate(360deg) !important;
                }
            }

            .claude-error {
                color: var(--claude-danger-red) !important;
                text-align: center !important;
                padding: 80px 30px !important;
                background: rgba(239, 68, 68, 0.1) !important;
                border: 1px solid rgba(239, 68, 68, 0.3) !important;
                border-radius: var(--border-radius) !important;
                margin: 30px !important;
                backdrop-filter: blur(20px) !important;
            }

            .claude-error i {
                font-size: 3rem !important;
                margin: 0 0 25px 0 !important;
            }

            .claude-error h3 {
                font-size: 1.4rem !important;
                margin: 0 0 15px 0 !important;
                color: #fca5a5 !important;
                font-family: inherit !important;
            }

            .claude-error p {
                font-size: 1.1rem !important;
                color: #fca5a5 !important;
                margin: 0 !important;
                font-family: inherit !important;
            }

            .claude-no-data {
                text-align: center !important;
                padding: 100px 30px !important;
                color: var(--claude-text-muted) !important;
                background: var(--claude-card) !important;
                border-radius: var(--border-radius) !important;
                margin: 30px !important;
                border: 2px dashed var(--claude-border) !important;
                backdrop-filter: blur(20px) !important;
            }

            .claude-no-data i {
                font-size: 4.5rem !important;
                color: var(--claude-primary) !important;
                margin: 0 0 30px 0 !important;
                opacity: 0.6 !important;
            }

            .claude-no-data p {
                font-size: 1.4rem !important;
                margin: 0 !important;
                color: var(--claude-text) !important;
                font-family: inherit !important;
            }

            /* å‹•ç•« */
            @keyframes fadeInUp {
                from {
                    opacity: 0 !important;
                    transform: translateY(40px) !important;
                }
                to {
                    opacity: 1 !important;
                    transform: translateY(0) !important;
                }
            }

            /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
            @media (max-width: 768px) {
                .claude-header {
                    padding: 40px 20px !important;
                }

                .claude-title {
                    font-size: 2.2rem !important;
                    flex-direction: column !important;
                    gap: 15px !important;
                }

                .claude-title-icon {
                    font-size: 3rem !important;
                }

                .claude-controls {
                    padding: 30px 20px !important;
                    margin: 20px !important;
                }

                .claude-button-grid {
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
                    gap: 15px !important;
                }

                .claude-btn {
                    padding: 18px 22px !important;
                    font-size: 1rem !important;
                    min-height: 65px !important;
                }

                .claude-table-container {
                    margin: 20px !important;
                }

                .claude-table-wrapper {
                    padding: 30px 20px !important;
                }

                .claude-table-header {
                    flex-direction: column !important;
                    align-items: flex-start !important;
                    gap: 20px !important;
                }

                .claude-table-title {
                    font-size: 1.4rem !important;
                }

                .claude-table th,
                .claude-table td {
                    padding: 16px 12px !important;
                    font-size: 0.9rem !important;
                }

                .claude-delete-btn {
                    padding: 10px 14px !important;
                    font-size: 0.85rem !important;
                }
            }

            @media (max-width: 480px) {
                .claude-button-grid {
                    grid-template-columns: 1fr !important;
                }

                .claude-btn {
                    justify-content: flex-start !important;
                    padding: 20px 25px !important;
                }

                .claude-title {
                    font-size: 2rem !important;
                }

                .claude-table th,
                .claude-table td {
                    padding: 14px 10px !important;
                    font-size: 0.85rem !important;
                }
            }

            /* æ»¾å‹•æ¢ç¾åŒ– */
            .claude-table-scroll::-webkit-scrollbar {
                height: 10px !important;
            }

            .claude-table-scroll::-webkit-scrollbar-track {
                background: rgba(217, 119, 66, 0.1) !important;
                border-radius: 5px !important;
            }

            .claude-table-scroll::-webkit-scrollbar-thumb {
                background: var(--claude-primary) !important;
                border-radius: 5px !important;
            }

            .claude-table-scroll::-webkit-scrollbar-thumb:hover {
                background: var(--claude-primary-hover) !important;
            }
        </style>
    </head>

    <body>
        <div class="claude-data-page">
            <div class="claude-header">
                <div class="claude-header-content">
                    <h1 class="claude-title">
                        <i class="fas fa-database claude-title-icon"></i>
                        è³‡æ–™æ“ä½œç®¡ç†
                    </h1>
                    <p class="claude-subtitle">é¸æ“‡è¦æŸ¥çœ‹å’Œç®¡ç†çš„è³‡æ–™è¡¨</p>
                </div>
            </div>

            <div class="claude-controls">
                <div class="claude-controls-content">
                    <div class="claude-controls-title">
                        <i class="fas fa-table"></i>
                        è³‡æ–™è¡¨é¸æ“‡
                    </div>
                    <div class="claude-button-grid">
                        <button
                            class="claude-btn"
                            onclick="ClaudeDataOperations.loadTable(ClaudeDataOperations.apiArtists, ClaudeDataOperations.container, 'æ­Œæ‰‹')"
                        >
                            <i class="fas fa-microphone"></i>
                            <span>æ­Œæ‰‹æ¸…å–®</span>
                        </button>
                        <button
                            class="claude-btn"
                            onclick="ClaudeDataOperations.loadTable(ClaudeDataOperations.apiSongs, ClaudeDataOperations.container, 'æ­Œæ›²')"
                        >
                            <i class="fas fa-music"></i>
                            <span>æ­Œæ›²æ¸…å–®</span>
                        </button>
                        <button
                            class="claude-btn"
                            onclick="ClaudeDataOperations.loadTable(ClaudeDataOperations.apiAlbums, ClaudeDataOperations.container, 'å°ˆè¼¯')"
                        >
                            <i class="fas fa-compact-disc"></i>
                            <span>å°ˆè¼¯æ¸…å–®</span>
                        </button>
                        <button
                            class="claude-btn"
                            onclick="ClaudeDataOperations.loadTable(ClaudeDataOperations.apiUsers, ClaudeDataOperations.container, 'ä½¿ç”¨è€…')"
                        >
                            <i class="fas fa-users"></i>
                            <span>ä½¿ç”¨è€…æ¸…å–®</span>
                        </button>
                        <button
                            class="claude-btn"
                            onclick="ClaudeDataOperations.loadTable(ClaudeDataOperations.apiPlaylists, ClaudeDataOperations.container, 'æ’­æ”¾æ¸…å–®')"
                        >
                            <i class="fas fa-list"></i>
                            <span>æ’­æ”¾æ¸…å–®</span>
                        </button>
                        <button
                            class="claude-btn"
                            onclick="ClaudeDataOperations.loadTable(ClaudeDataOperations.apiPlaylistSongs, ClaudeDataOperations.container, 'æ’­æ”¾æ­Œæ›²')"
                        >
                            <i class="fas fa-play-circle"></i>
                            <span>æ’­æ”¾æ­Œæ›²</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="claude-table-container" id="claudeTableContainer">
                <div class="claude-no-data">
                    <i class="fas fa-mouse-pointer"></i>
                    <p>è«‹é»é¸ä¸Šæ–¹æŒ‰éˆ•æŸ¥è©¢è³‡æ–™</p>
                </div>
            </div>
        </div>

        <script>
            // Claude é¢¨æ ¼æ•¸æ“šæ“ä½œç³»çµ±
            window.ClaudeDataOperations = (function () {
                console.log("Claude Data Operations ç³»çµ±å•Ÿå‹•");

                // API é…ç½®
                const currentHostname = window.location.hostname;
                const currentOrigin = window.location.origin;

                let API_BASE;
                if (currentHostname.includes("github.io")) {
                    API_BASE = "https://1140412connectproject-production.up.railway.app/api";
                    console.log("â˜ï¸ GitHub Pages ç’°å¢ƒ");
                } else if (currentHostname === "localhost" || currentHostname === "127.0.0.1") {
                    API_BASE = "http://localhost:8000/api";
                    console.log("ğŸ  æœ¬åœ°é–‹ç™¼ç’°å¢ƒ");
                } else if (currentHostname.includes("railway.app")) {
                    API_BASE = currentOrigin + "/api";
                    console.log("ğŸš‚ Railway ç’°å¢ƒ");
                } else {
                    API_BASE = "https://1140412connectproject-production.up.railway.app/api";
                    console.log("ğŸŒ é è¨­ç’°å¢ƒ");
                }

                const apiArtists = `${API_BASE}/artists`;
                const apiSongs = `${API_BASE}/songs`;
                const apiAlbums = `${API_BASE}/albums`;
                const apiUsers = `${API_BASE}/users`;
                const apiPlaylists = `${API_BASE}/playlists`;
                const apiPlaylistSongs = `${API_BASE}/playlist_songs`;

                const container = document.getElementById("claudeTableContainer");
                let currenturl = "";
                let currenttodiv = container;
                let currentTableName = "";

                // è¼‰å…¥è¡¨æ ¼è³‡æ–™
                async function loadTable(url, todiv, displayName) {
                    currenturl = url;
                    currenttodiv = todiv;
                    currentTableName = displayName;

                    try {
                        todiv.innerHTML = `
                            <div class="claude-loading">
                                <i class="fas fa-spinner"></i>
                                <p>æ­£åœ¨è¼‰å…¥${displayName}è³‡æ–™...</p>
                            </div>
                        `;

                        console.log(`ğŸ”„ è¼‰å…¥${displayName}è³‡æ–™: ${url}`);

                        let tablename = "";
                        switch (url) {
                            case apiArtists:
                                tablename = "artists";
                                break;
                            case apiSongs:
                                tablename = "songs";
                                break;
                            case apiAlbums:
                                tablename = "albums";
                                break;
                            case apiUsers:
                                tablename = "users";
                                break;
                            case apiPlaylists:
                                tablename = "playlists";
                                break;
                            case apiPlaylistSongs:
                                tablename = "playlist_songs";
                                break;
                            default:
                                throw new Error("æœªçŸ¥çš„ API ç«¯é»");
                        }

                        const response = await fetch(url);
                        if (!response.ok) throw new Error(`HTTP éŒ¯èª¤: ${response.status}`);
                        const data = await response.json();

                        if (!Array.isArray(data) || data.length === 0) {
                            todiv.innerHTML = `
                                <div class="claude-table-wrapper">
                                    <div class="claude-table-content">
                                        <div class="claude-no-data">
                                            <i class="fas fa-inbox"></i>
                                            <p>${displayName}æ²’æœ‰è³‡æ–™</p>
                                        </div>
                                    </div>
                                </div>
                            `;
                            return;
                        }

                        console.log(`âœ… ${displayName}è¼‰å…¥æˆåŠŸï¼Œå…± ${data.length} ç­†è¨˜éŒ„`);

                        // ç”Ÿæˆè¡¨æ ¼ HTML
                        let tableHtml = `
                            <div class="claude-table-wrapper">
                                <div class="claude-table-content">
                                    <div class="claude-table-header">
                                        <div class="claude-table-title">
                                            <i class="fas fa-table"></i>
                                            ${displayName}æ¸…å–®
                                        </div>
                                        <div class="claude-table-count">
                                            å…± ${data.length} ç­†è¨˜éŒ„
                                        </div>
                                    </div>
                                    <div class="claude-table-scroll">
                                        <table class="claude-table">
                                            <thead>
                                                <tr>
                                                    <th>æ“ä½œ</th>
                        `;

                        // è¡¨é ­
                        const keys = Object.keys(data[0]);
                        keys.forEach((k) => {
                            tableHtml += `<th>${k}</th>`;
                        });
                        tableHtml += `</tr></thead><tbody>`;

                        // è¡¨æ ¼å…§å®¹
                        data.forEach((row, index) => {
                            const rowData = { ...row, state: -1, table: tablename };

                            tableHtml += `<tr>`;
                            tableHtml += `
                                <td>
                                    <button 
                                        class="claude-delete-btn" 
                                        onclick='ClaudeDataOperations.confirmDelete(${JSON.stringify(rowData).replace(
                                            /'/g,
                                            "\\'"
                                        )}, "${displayName}", ${index + 1})'
                                        title="åˆªé™¤é€™ç­†è¨˜éŒ„">
                                        <i class="fas fa-trash"></i>
                                        åˆªé™¤
                                    </button>
                                </td>
                            `;

                            keys.forEach((k) => {
                                const value = row[k] !== null && row[k] !== undefined ? row[k] : "";
                                tableHtml += `<td>${value}</td>`;
                            });
                            tableHtml += `</tr>`;
                        });

                        tableHtml += `</tbody></table></div></div></div>`;
                        todiv.innerHTML = tableHtml;
                    } catch (err) {
                        console.error(`âŒ è¼‰å…¥${displayName}å¤±æ•—:`, err);
                        todiv.innerHTML = `
                            <div class="claude-table-wrapper">
                                <div class="claude-table-content">
                                    <div class="claude-error">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        <h3>è¼‰å…¥${displayName}å¤±æ•—</h3>
                                        <p>${err.message}</p>
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                }

                // ç¢ºèªåˆªé™¤
                function confirmDelete(rowData, displayName, rowNumber) {
                    const confirmMessage = `ç¢ºå®šè¦åˆªé™¤é€™ç­†${displayName}è³‡æ–™å—ï¼Ÿ\n\né€™æ˜¯ç¬¬ ${rowNumber} ç­†è¨˜éŒ„\næ­¤æ“ä½œç„¡æ³•å¾©åŸï¼`;

                    if (confirm(confirmMessage)) {
                        updaterow(rowData, displayName);
                    }
                }

                // åŸ·è¡Œåˆªé™¤
                async function updaterow(returnbody, displayName) {
                    try {
                        console.log("ğŸ“¤ æäº¤åˆªé™¤è«‹æ±‚:", returnbody);

                        const response = await fetch(`${API_BASE}/2/update`, {
                            method: "POST",
                            mode: "cors",
                            headers: {
                                "Content-Type": "application/json",
                            },
                            body: JSON.stringify(returnbody),
                        });

                        if (response.ok) {
                            console.log(`âœ… ${displayName}åˆªé™¤æˆåŠŸ`);
                            alert(`âœ… ${displayName}è¨˜éŒ„å·²æˆåŠŸåˆªé™¤ï¼`);
                            loadTable(currenturl, currenttodiv, currentTableName);
                        } else {
                            const errorText = await response.text();
                            throw new Error(`åˆªé™¤å¤±æ•—: ${errorText}`);
                        }
                    } catch (error) {
                        console.error("âŒ åˆªé™¤å¤±æ•—:", error);
                        alert(`âŒ åˆªé™¤${displayName}å¤±æ•—: ${error.message}`);
                    }
                }

                console.log("Claude Data Operations ç³»çµ±å°±ç·’");

                // å…¬é–‹ API
                return {
                    loadTable: loadTable,
                    confirmDelete: confirmDelete,
                    updaterow: updaterow,
                    apiArtists: apiArtists,
                    apiSongs: apiSongs,
                    apiAlbums: apiAlbums,
                    apiUsers: apiUsers,
                    apiPlaylists: apiPlaylists,
                    apiPlaylistSongs: apiPlaylistSongs,
                    container: container,
                };
            })();

            // é é¢è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–
            document.addEventListener("DOMContentLoaded", function () {
                console.log("ğŸµ Claude é¢¨æ ¼è³‡æ–™æ“ä½œé é¢å·²è¼‰å…¥");
            });
        </script>
    </body>
</html>
